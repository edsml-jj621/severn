# Flood Risk Prediction tool

## Deadline 4pm GMT Friday 17th December 2021

### Key Requirements

Your project must provide a number of required postcodes:

 - Methods to convert between GPS latitude-longitude coordinates and UK OS eastings and northings.
 - Methods to classify the flood probability for unlabelled postcodes and to estimate the average property value for a postcode based on sample data provided to you.
 - A method to find the rainfall near a given postcode from provided rainfall and river level data.

 You should also try to provide visualization and analysis tools for the postcode, rainfall and river data provided to you.

 Your code should have installation instructions and basic documentation, either as docstrings, a full manual or both.

![London postcode density](images/LondonPostcodeDensity.png)
![England Flood Risk](images/EnglandFloodRisk.png)

This README file should be updated over the course of your group's work.

### Assessment

 - your code will be assessed for its speed and accuracy.
 - Your code should include test functions.
 - Additional marks will be awarded for code quality.

 ### Installation Guide

To install the module `flood_tools` clone the respository to local

```bash
git clone https://github.com/ese-msc-2021/ads-deluge-severn.git
```

Change directory into the root of the repo you just cloned

Then install all the packages needed

```bash
pip install -r requirements.txt
pip install -e .
```

### User instructions

#### Flood Risk Tool
```
python flood_tool/main.py [-h] -t LABEL_TYPE -f UNLABELLED_FILE [-m METHOD] [-s SAVE]
```

|options|description|
|--------|-----------|
|-h, --help| help message|
|-t, --label_type|Type of labelling. <br> -t flood_risk <br> -t house_price|
|-f, --unlabelled_file|Unlabelled postcodes file. <br> -f postcodes.csv|
|-m METHOD, --method| (optional) <br><br> Flood Risk <br> *default knn* <br> -m dt:  Decision Tree <br> -m knn:  KNN <br> -m rmdf:  Random Forest <br> -m ada:  AdaBoost <br><br> House Price <br> *default rfr* <br> -m lr:  Linear Regression <br> -m dt:  Dscision Tree <br> -m rfr: Random Forest Regression <br> -m sv:  SVR Support Vector Regression
|-s, --save|(optional) *default labelled.csv* <br><br>output filename / path|

### Documentation

_This section can be updated during the week._

The code includes [Sphinx](https://www.sphinx-doc.org) documentation. On systems with Sphinx installed, this can be build by running

```
python -m sphinx docs html
```

then viewing the generated `index.html` file in the `html` directory in your browser.

For systems with [LaTeX](https://www.latex-project.org/get/) installed, a manual pdf can be generated by running

```bash
python -m sphinx  -b latex docs latex
```

Then following the instructions to process the `floodtool.tex` file in the `latex` directory in your browser.

Navigate into the `latex`  and generate the `floodtool.pdf` .

```bash
cd latex
pdflatex floodtool.tex
```



### Testing

The tool includes several tests, which you can use to checki its operation on your system. With [pytest](https://doc.pytest.org/en/latest) installed, these can be run with

```bash
python -m pytest flood_tool
```



### Reading list

 - (A guide to coordinate systems in Great Britain)[https://webarchive.nationalarchives.gov.uk/20081023180830/http://www.ordnancesurvey.co.uk/oswebsite/gps/information/coordinatesystemsinfo/guidecontents/index.html]

 - (Information on postcode validity)[https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/283357/ILRSpecification2013_14Appendix_C_Dec2012_v1.pdf]
